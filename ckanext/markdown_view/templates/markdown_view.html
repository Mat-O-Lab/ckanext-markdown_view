<div id="markdown_content" class="blob-viewer js-syntax-highlight" data-loaded="true">
</div>
<script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
<script>
    fetch("{{ resource_view.get('page_url') or resource.get('url') }}")      // The path to the raw Markdown file
        .then(response => response.blob())  // Unwrap to a blob...
        .then(blob => blob.text())          // ...then to raw text...
        .then(markdown => {                 // ...then pass the raw text into marked.parse
            document.getElementById("markdown_content").innerHTML = DOMPurify.sanitize(marked.parse(markdown.replace(/^[\u200B\u200C\u200D\u200E\u200F\uFEFF]/, "")));
        });
</script>

<iframe title="Markdown Preview" src="{{ resource_view.get('page_url') or resource.get('url') }}" frameborder="0"
    width="100%" style="height:100vh" data-module="data-viewer">
    <p>{{ _('Your browser does not support iframes.') }}</p>
</iframe>